# =============================================================================
# MCP Google Calendar - Configuração
# =============================================================================
# Copie este arquivo para .env.calendar e configure com suas credenciais

# Modo de transporte: http é necessário para integração com o LifeOS Agent
# Use 'stdio' apenas para integração direta com Claude Desktop
TRANSPORT=http

# Configurações HTTP (quando TRANSPORT=http)
# IMPORTANTE: Use 0.0.0.0 para permitir acesso de outros containers Docker
PORT=3001
HOST=0.0.0.0

# Caminho para credenciais OAuth do Google Cloud
# Este arquivo deve ser obtido no Google Cloud Console:
# 1. Acesse https://console.cloud.google.com
# 2. Crie ou selecione um projeto
# 3. Ative a API Google Calendar
# 4. Crie credenciais OAuth 2.0 (tipo: Desktop app)
# 5. Baixe o arquivo JSON e coloque na pasta mcp-google-calendar/
GOOGLE_OAUTH_CREDENTIALS=/app/gcp-oauth.keys.json

# Caminho para armazenar tokens OAuth dos usuários
# Os tokens ficam salvos em um volume Docker persistente
# GOOGLE_CALENDAR_MCP_TOKEN_PATH=/home/nodejs/.config/google-calendar-mcp

# =============================================================================
# CONFIGURAÇÃO MULTI-USUÁRIO (para suporte a múltiplos usuários WhatsApp)
# =============================================================================
# O LifeOS precisa gerenciar tokens de múltiplos usuários.
# Cada usuário terá seu próprio token salvo no volume persistente.
#
# Workflow de autenticação:
# 1. Usuário solicita criar evento pelo WhatsApp
# 2. Se é primeira vez, o sistema envia link de autenticação OAuth
# 3. Usuário autentica e autoriza acesso ao calendário
# 4. Token é salvo associado ao número WhatsApp
# 5. Próximas solicitações usam o token salvo

# =============================================================================
# IMPORTANTE: Configuração do Google Cloud Console
# =============================================================================
# 1. Ative a Google Calendar API:
#    https://console.cloud.google.com/apis/library/calendar-json.googleapis.com
#
# 2. Configure OAuth Consent Screen:
#    - User Type: External (ou Internal se workspace Google)
#    - Adicione escopos:
#      * https://www.googleapis.com/auth/calendar.events
#      * https://www.googleapis.com/auth/calendar
#
# 3. Crie credenciais OAuth (tipo Desktop App):
#    - Vá em Credentials → Create Credentials → OAuth client ID
#    - Application type: Desktop app
#    - Baixe o JSON e renomeie para gcp-oauth.keys.json
#
# 4. Adicione usuários de teste (enquanto app está em modo teste):
#    - Vá em OAuth consent screen → Test users
#    - Adicione os emails que vão testar
